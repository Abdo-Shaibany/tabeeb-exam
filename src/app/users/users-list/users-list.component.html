<div class="grid">
    <!-- Search Input -->
    <div class="col-12 md:col-4">
        <!-- <span class="p-input-icon-left">
            <i class="pi pi-search"></i>
        </span> -->
        <input type="text" pInputText placeholder="Search by name" [(ngModel)]="searchTerm" (input)="onSearch()" />

    </div>

    <!-- Role Filter -->
    <div class="col-12 md:col-4">
        <p-dropdown [options]="roles" [(ngModel)]="selectedRole" placeholder="Filter by Role"
            (onChange)="onFilterChange()"></p-dropdown>
    </div>

    <!-- Status Filter -->
    <div class="col-12 md:col-4">
        <p-dropdown [options]="statuses" [(ngModel)]="selectedStatus" placeholder="Filter by Status"
            (onChange)="onFilterChange()"></p-dropdown>
    </div>
</div>

<!-- Table -->
<p-table [value]="users" [paginator]="true" [rows]="rowsPerPage" [totalRecords]="totalUsers"
    [rowsPerPageOptions]="[5, 10, 20]" (onSort)="onSort($event)" [lazy]="true" [sortField]="sortField"
    [sortOrder]="sortOrder" (onPage)="onPage($event)">
    <ng-template pTemplate="header">
        <tr>
            <th pSortableColumn="name">
                Name
                <p-sortIcon field="name"></p-sortIcon>
            </th>
            <th pSortableColumn="email">
                Email
                <p-sortIcon field="email"></p-sortIcon>
            </th>
            <th>Role</th>
            <th>Status</th>
            <th>Action</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-user>
        <tr>
            <td>{{ user.name }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.role }}</td>
            <td>{{ user.status }}</td>
            <td>
                <button pButton icon="pi pi-pencil" class="p-button-text p-button-primary"
                    (click)="editUser(user)"></button>
                <button pButton icon="pi pi-trash" class="p-button-text p-button-danger"
                    (click)="removeUser(user.id)"></button>
            </td>
        </tr>
    </ng-template>
</p-table>